<!DOCTYPE html>
<html lang="es">
	<head>
		<title>Contactos</title>
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no"
		/>

		<!-- Estilos locales -->
		<link rel="stylesheet" href="/estilos/style.css" />
	</head>

	<body>
		<header class="site-header"><%- include('partials/navbar') %></header>

		<main class="container">
			<h1>Contactos</h1>

			<div class="table-wrap">
				<table id="tabla_resultados" class="contacts-table">
					<thead>
						<tr>
							<th>ID</th>
							<th>NOMBRE COMPLETO</th>
							<th>GÉNERO</th>
							<th>DIRECCIÓN</th>
							<th>TIPO TEL</th>
							<th>TELÉFONO</th>
							<th>EMAIL</th>
							<th>IMAGEN</th>

						</tr>
					</thead>
					<tbody>
						<% if(contactos && contactos.length > 0) {
							contactos.forEach(contacto => {
								const id = contacto.id_contacto || "";
								const nombreCompleto = [
									contacto.primer_nombre,
									contacto.segundo_nombre,
									contacto.primer_apellido,
									contacto.segundo_apellido,
								].filter(Boolean).join(' ');
								const genero = contacto.genero || "";
								const direccion = contacto.direccion || "";
								const email = contacto.email || "";
								const telefono = contacto.telefono || "";
								const tipoTel = contacto.tipo_telefono || "";
								const imagen = contacto.imagen || "";
						%>
						<tr>
							<td><%= id %></td>
							<td><%= nombreCompleto %></td>
							<td><%= genero %></td>
							<td><%= direccion %></td>
							<td><%= tipoTel %></td>
							<td><%= telefono %></td>
							<td><%= email %></td>
							<td>
								<% if(imagen) { %>
									<img src="<%= imagen %>" alt="foto-<%= id %>" class="thumb">
								<% } else { %>
									Sin imagen
								<% } %>
							</td>
							
						</tr>
						<% }); } %>
					</tbody>
				</table>
			</div>
		</main>
	</body>
</html>
